https://www.googleapis.com/androidpublisher/v3/applications/net.coscoi.ge_xylophone_eng/purchases/products/0704test1/tokens/GPA.3307-3588-9971-79867





에바지 않나ㅏ?

로컬캐싱
 - Google play 클라이언트는 인앱 결제 정보를 기기의 로컬위치에서 캐시함
https://developer.android.com/google/play/billing/api?hl=ko#managingconsumables


구글 플레이 디벨로퍼
https://developer.android.com/google/play/billing/billing_reference?hl=ko



인앱 상품 소비 > purchaseToken를 적용해보기
https://developer.android.com/google/play/billing/api#billing-action-notify



대체제
https://stackoverflow.com/questions/46543008/how-to-detect-canceled-or-refunded-order-for-google-in-app-billing
https://developers.google.com/android-publisher/api-ref/purchases/voidedpurchases/list


교환은 자동적으로 동작한다 그러나 디바이스를 최신화 하기 위해서는 최대 72시간이 필요하다.
최대 3일간의 무료 기간을 줄 지도...
https://stackoverflow.com/questions/13861625/in-app-billing-v3-dont-detect-refund
https://code.google.com/archive/p/marketbilling/issues/88#makechanges





Attempt to invoke interface method 'android.os.Bundle com.android.vending.billing.IInAppBillingService.getPurchases(int, java.lang.String, java.lang.String, java.lang.String)' on a null object reference

https://stackoverflow.com/questions/35004908/java-for-android-null-pointer-exception-on-iinappbillingservice-getskudetails

mServiceConnection의 경우 시간이 조금 걸리기 때문에 바로 진행하면 안됨!



com.google.api.client.googleapis.json.GoogleJsonResponseException: 401 Unauthorized
{
  "code" : 401,
  "errors" : [ {
    "domain" : "androidpublisher",
    "message" : "The current user has insufficient permissions to perform the requested operation.",
    "reason" : "permissionDenied"
  } ],
  "message" : "The current user has insufficient permissions to perform the requested operation."
}


참고자료
와 소오오오오름...
http://theeye.pe.kr/archives/2570
